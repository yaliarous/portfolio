{"version":3,"file":"static/js/510.bc906a8c.chunk.js","mappings":"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","sources":["components/Footer/index.js","components/Heading/index.js","components/Image/index.js","components/Link/index.js","components/ProjectLayout/index.js","components/Section/index.js","components/Text/index.js","components/SegmentedControl/index.js","../node_modules/three/examples/jsm/controls/OrbitControls.js","../node_modules/three/examples/jsm/loaders/RGBELoader.js","pages/SmartSparrow/Earth.js","pages/SmartSparrow/index.js","utils/image.js","utils/three.js"],"sourcesContent":["import Link from 'components/Link';\nimport './index.css';\n\nconst Footer = () => (\n  <footer className=\"footer\">\n    <span className=\"footer__date\">\n      {`© ${new Date().getFullYear()} Mohamed ALI AROUS.`}\n    </span>\n    <Link secondary className=\"footer__link\" href=\"/humans.txt\" target=\"_self\">\n      Crafted by yours truly\n    </Link>\n  </footer>\n);\n\nexport default Footer;\n","import { Fragment } from 'react';\nimport classNames from 'classnames';\nimport { Helmet } from 'react-helmet';\nimport GothamBold from 'assets/fonts/gotham-bold.woff2';\nimport './index.css';\n\nconst Heading = ({\n  children,\n  level = 1,\n  as,\n  align = 'auto',\n  weight = 'medium',\n  className,\n  ...rest\n}) => {\n  const clampedLevel = Math.min(Math.max(level, 0), 4);\n  const Component = as || `h${Math.max(clampedLevel, 1)}`;\n\n  return (\n    <Fragment>\n      {/* Conditionally load the bold font weight because we use it less frequently */}\n      {weight === 'bold' && (\n        <Helmet>\n          <link rel=\"preload\" href={GothamBold} as=\"font\" crossorigin=\"\" />\n          <style>\n            {`\n              @font-face {\n                font-family: 'Gotham';\n                font-weight: 700;\n                src: url(${GothamBold}) format('woff2');\n                font-display: swap;\n              }\n            `}\n          </style>\n        </Helmet>\n      )}\n      <Component\n        className={classNames(\n          className,\n          'heading',\n          `heading--align-${align}`,\n          `heading--level-${clampedLevel}`,\n          `heading--weight-${weight}`\n        )}\n        {...rest}\n      >\n        {children}\n      </Component>\n    </Fragment>\n  );\n};\n\nexport default Heading;\n","import { useState, useEffect, useRef, useCallback, Fragment } from 'react';\nimport classNames from 'classnames';\nimport { usePrefersReducedMotion, useInViewport } from 'hooks';\nimport { Button } from 'components/Button';\nimport Icon from 'components/Icon';\nimport { Transition } from 'react-transition-group';\nimport { reflow } from 'utils/transition';\nimport prerender from 'utils/prerender';\nimport { tokens } from 'components/ThemeProvider/theme';\nimport { msToNum, numToMs } from 'utils/style';\nimport { resolveVideoSrcFromSrcSet } from 'utils/image';\nimport { useTheme } from 'components/ThemeProvider';\nimport VisuallyHidden from 'components/VisuallyHidden';\nimport './index.css';\n\nconst Image = ({ className, style, reveal, delay = 0, raised, src, ...rest }) => {\n  const [loaded, setLoaded] = useState(false);\n  const { themeId } = useTheme();\n  const containerRef = useRef();\n  const inViewport = useInViewport(containerRef, !src?.endsWith('.mp4'));\n\n  const onLoad = useCallback(() => {\n    setLoaded(true);\n  }, []);\n\n  return (\n    <div\n      className={classNames('image', className, `image--${themeId}`, {\n        'image--in-viewport': inViewport,\n        'image--reveal': reveal,\n        'image--raised': raised,\n      })}\n      style={{ ...style, '--delay': numToMs(delay) }}\n      ref={containerRef}\n    >\n      <ImageElements\n        delay={delay}\n        onLoad={onLoad}\n        loaded={loaded}\n        inViewport={inViewport}\n        reveal={reveal}\n        src={src}\n        {...rest}\n      />\n    </div>\n  );\n};\n\nconst ImageElements = ({\n  onLoad,\n  loaded,\n  inViewport,\n  srcSet,\n  placeholder,\n  delay,\n  src,\n  alt,\n  play = true,\n  reveal,\n  ...rest\n}) => {\n  const prefersReducedMotion = usePrefersReducedMotion();\n  const [showPlaceholder, setShowPlaceholder] = useState(true);\n  const [playing, setPlaying] = useState(!prefersReducedMotion);\n  const [showPlayButton, setShowPlayButton] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n  const [isFocused, setIsFocused] = useState(false);\n  const [placeholderSize, setPlaceholderSize] = useState();\n  const [videoSrc, setVideoSrc] = useState();\n  const placeholderRef = useRef();\n  const videoRef = useRef();\n  const isVideo = src?.endsWith('.mp4');\n  const imgSrc = src || srcSet?.split(' ')[0];\n  const showFullRes = !prerender && inViewport;\n\n  useEffect(() => {\n    const purgePlaceholder = () => {\n      setShowPlaceholder(false);\n    };\n\n    const placeholderElement = placeholderRef.current;\n    placeholderElement.addEventListener('transitionend', purgePlaceholder);\n\n    return function cleanUp() {\n      if (placeholderElement) {\n        placeholderElement.removeEventListener('transitionend', purgePlaceholder);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const resolveVideoSrc = async () => {\n      const resolvedVideoSrc = await resolveVideoSrcFromSrcSet(srcSet);\n      setVideoSrc(resolvedVideoSrc);\n    };\n\n    if (isVideo && srcSet) {\n      resolveVideoSrc();\n    } else if (isVideo) {\n      setVideoSrc(src);\n    }\n  }, [isVideo, src, srcSet]);\n\n  useEffect(() => {\n    const { width, height } = placeholderRef.current;\n\n    if (width && height) {\n      setPlaceholderSize({ width, height });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!videoRef.current || !videoSrc) return;\n\n    if (!play || !inViewport) {\n      setPlaying(false);\n      videoRef.current.pause();\n    } else if (inViewport && !prefersReducedMotion && !prerender) {\n      setPlaying(true);\n      videoRef.current.play();\n    }\n  }, [inViewport, play, prefersReducedMotion, videoSrc]);\n\n  const handlePlaceholderLoad = event => {\n    const { width, height } = event.target;\n    setPlaceholderSize({ width, height });\n  };\n\n  const togglePlaying = event => {\n    event.preventDefault();\n\n    if (videoRef.current.paused) {\n      setPlaying(true);\n      videoRef.current.play();\n    } else {\n      setPlaying(false);\n      videoRef.current.pause();\n    }\n  };\n\n  const handleShowPlayButton = () => {\n    setShowPlayButton(true);\n    setIsHovered(true);\n  };\n\n  const handleFocusPlayButton = () => {\n    setShowPlayButton(true);\n    setIsFocused(true);\n  };\n\n  return (\n    <div\n      className={classNames('image__element-wrapper', {\n        'image__element-wrapper--reveal': reveal,\n        'image__element-wrapper--in-viewport': inViewport,\n      })}\n      onMouseOver={isVideo ? handleShowPlayButton : undefined}\n      onMouseOut={isVideo ? () => setIsHovered(false) : undefined}\n      style={{ '--delay': numToMs(delay + 1000) }}\n    >\n      {isVideo && (\n        <Fragment>\n          <video\n            muted\n            loop\n            playsInline\n            className={classNames('image__element', { 'image__element--loaded': loaded })}\n            autoPlay={!prefersReducedMotion}\n            role=\"img\"\n            onLoadStart={onLoad}\n            src={videoSrc}\n            aria-label={alt}\n            ref={videoRef}\n            {...rest}\n          />\n          <Transition\n            in={isHovered || isFocused}\n            onExit={reflow}\n            onExited={() => setShowPlayButton(false)}\n            timeout={{ enter: 0, exit: msToNum(tokens.base.durationS) }}\n          >\n            {status => (\n              <VisuallyHidden visible={showPlayButton}>\n                <Button\n                  className={classNames('image__button', `image__button--${status}`)}\n                  onFocus={handleFocusPlayButton}\n                  onBlur={() => setIsFocused(false)}\n                  onClick={togglePlaying}\n                >\n                  <Icon icon={playing ? 'pause' : 'play'} />\n                  {playing ? 'Pause' : 'Play'}\n                </Button>\n              </VisuallyHidden>\n            )}\n          </Transition>\n        </Fragment>\n      )}\n      {!isVideo && (\n        <img\n          className={classNames('image__element', { 'image__element--loaded': loaded })}\n          onLoad={onLoad}\n          decoding=\"async\"\n          src={showFullRes ? imgSrc : undefined}\n          srcSet={showFullRes ? srcSet : undefined}\n          width={placeholderSize?.width}\n          height={placeholderSize?.height}\n          alt={alt}\n          {...rest}\n        />\n      )}\n      {showPlaceholder && (\n        <img\n          aria-hidden\n          className={classNames('image__placeholder', {\n            'image__placeholder--loaded': loaded,\n          })}\n          style={{ '--delay': numToMs(delay) }}\n          ref={placeholderRef}\n          src={placeholder}\n          onLoad={handlePlaceholderLoad}\n          width={placeholderSize?.width}\n          height={placeholderSize?.height}\n          decoding=\"async\"\n          alt=\"\"\n          role=\"presentation\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Image;\n","import { Link as RouterLink } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { blurOnMouseUp } from 'utils/focus';\nimport './index.css';\n\n// File extensions that can be linked to\nconst VALID_EXT = ['txt', 'png', 'jpg'];\n\nconst Link = ({ rel, target, children, secondary, className, href, as, ...rest }) => {\n  const isValidExtension = VALID_EXT.includes(href?.split('.').pop());\n  const isAnchor = href?.includes('://') || href?.[0] === '#' || isValidExtension;\n  const relValue = rel || (isAnchor ? 'noreferrer noopener' : undefined);\n  const targetValue = target || (isAnchor ? '_blank' : undefined);\n  const Component = as || (isAnchor ? 'a' : RouterLink);\n\n  return (\n    <Component\n      className={classNames('link', className, { 'link--secondary': secondary })}\n      rel={relValue}\n      href={isAnchor ? href : undefined}\n      to={!isAnchor ? href : undefined}\n      target={targetValue}\n      onMouseUp={blurOnMouseUp}\n      {...rest}\n    >\n      {children}\n    </Component>\n  );\n};\n\nexport default Link;\n","import { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport Image from 'components/Image';\nimport { Button } from 'components/Button';\nimport { useParallax } from 'hooks';\nimport prerender from 'utils/prerender';\nimport Section from 'components/Section';\nimport { numToPx, numToMs } from 'utils/style';\nimport Heading from 'components/Heading';\nimport Text from 'components/Text';\nimport './index.css';\n\nconst initDelay = 300;\n\nexport function ProjectHeader({\n  title,\n  description,\n  linkLabel = 'Visit website',\n  url,\n  roles,\n  className,\n}) {\n  return (\n    <Section className={classNames('project__header', className)}>\n      <div\n        className=\"project__header-content\"\n        style={{ '--initDelay': numToMs(initDelay) }}\n      >\n        <div className=\"project__details\">\n          <Heading\n            className={classNames('project__title', {\n              'project__title--entered': !prerender,\n            })}\n            level={2}\n            as=\"h1\"\n          >\n            {title}\n          </Heading>\n          <Text\n            className={classNames('project__description', {\n              'project__description--entered': !prerender,\n            })}\n            size=\"xl\"\n          >\n            {description}\n          </Text>\n          {!!url && (\n            <Button\n              secondary\n              iconHoverShift\n              className={classNames('project__link-button', {\n                'project__link-button--entered': !prerender,\n              })}\n              icon=\"chevronRight\"\n              href={url}\n            >\n              {linkLabel}\n            </Button>\n          )}\n        </div>\n        {!!roles?.length && (\n          <ul className=\"project__meta\">\n            {roles?.map((role, index) => (\n              <li\n                className={classNames('project__meta-item', {\n                  'project__meta-item--entered': !prerender,\n                })}\n                style={{ '--delay': numToMs(initDelay + 300 + index * 140) }}\n                key={role}\n              >\n                <Text secondary as=\"span\">\n                  {role}\n                </Text>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </Section>\n  );\n}\n\nexport const ProjectContainer = ({ className, ...rest }) => (\n  <article className={classNames('project', className)} {...rest} />\n);\n\nexport const ProjectSection = forwardRef(\n  (\n    {\n      className,\n      light,\n      first,\n      fullHeight,\n      backgroundOverlayOpacity = 0.9,\n      backgroundElement,\n      children,\n      ...rest\n    },\n    ref\n  ) => (\n    <section\n      className={classNames('project__section', className, {\n        'project__section--light': light,\n        'project__section--full-height': fullHeight,\n      })}\n      ref={ref}\n      {...rest}\n    >\n      {!!backgroundElement && (\n        <div\n          className=\"project__section-background\"\n          style={{ '--opacity': backgroundOverlayOpacity }}\n        >\n          {backgroundElement}\n        </div>\n      )}\n      <Section\n        className={classNames('project__section-inner', {\n          'project__section-inner--first': first,\n        })}\n      >\n        {children}\n      </Section>\n    </section>\n  )\n);\n\nexport const ProjectBackground = ({ opacity = 0.7, className, entered, ...rest }) => {\n  const offset = useParallax(0.6);\n\n  return (\n    <div\n      className={classNames('project__background-image', className, {\n        'project__background-image--entered': entered,\n      })}\n    >\n      <div\n        className=\"project__background-image-element\"\n        style={{\n          '--offset': numToPx(offset),\n        }}\n      >\n        <Image alt=\"\" role=\"presentation\" {...rest} />\n      </div>\n      <div className=\"project__background-scrim\" style={{ '--opacity': opacity }} />\n    </div>\n  );\n};\n\nexport const ProjectImage = ({ className, ...rest }) => (\n  <div className={classNames('project__image', className)}>\n    <Image reveal delay={300} {...rest} />\n  </div>\n);\n\nexport const ProjectSectionContent = ({ className, width = 'l', ...rest }) => (\n  <div\n    className={classNames(\n      'project__section-content',\n      `project__section-content--width-${width}`,\n      className\n    )}\n    {...rest}\n  />\n);\n\nexport const ProjectSectionHeading = ({ className, level = 3, as = 'h2', ...rest }) => (\n  <Heading\n    className={classNames('project__section-heading', className)}\n    as={as}\n    level={level}\n    align=\"auto\"\n    {...rest}\n  />\n);\n\nexport const ProjectSectionText = ({ className, ...rest }) => (\n  <Text className={classNames('project__section-text', className)} size=\"l\" {...rest} />\n);\n\nexport const ProjectTextRow = ({\n  center,\n  stretch,\n  justify = 'center',\n  width = 'm',\n  noMargin,\n  className,\n  centerMobile,\n  ...rest\n}) => (\n  <div\n    className={classNames(\n      'project__text-row',\n      `project__text-row--justify-${justify}`,\n      `project__text-row--width-${width}`,\n      className,\n      {\n        'project__text-row--center': center,\n        'project__text-row--stretch': stretch,\n        'project__text-row--center-mobile': centerMobile,\n        'project__text-row--no-margin': noMargin,\n      }\n    )}\n    {...rest}\n  />\n);\n\nexport const ProjectSectionColumns = ({ className, centered, ...rest }) => (\n  <ProjectSectionContent\n    className={classNames(\n      'project__section-columns',\n      { 'project__section-columns--centered': centered },\n      className\n    )}\n    {...rest}\n  />\n);\n","import { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport './index.css';\n\nconst Section = forwardRef(\n  ({ as: Component = 'div', children, className, ...rest }, ref) => (\n    <Component className={classNames('section', className)} ref={ref} {...rest}>\n      {children}\n    </Component>\n  )\n);\n\nexport default Section;\n","import classNames from 'classnames';\nimport './index.css';\n\nconst Text = ({\n  children,\n  size = 'm',\n  as: Component = 'p',\n  align = 'auto',\n  weight = 'auto',\n  secondary,\n  className,\n  ...rest\n}) => {\n  return (\n    <Component\n      className={classNames(\n        className,\n        'text',\n        `text--align-${align}`,\n        `text--size-${size}`,\n        `text--weight-${weight}`,\n        {\n          'text--secondary': secondary,\n        }\n      )}\n      {...rest}\n    >\n      {children}\n    </Component>\n  );\n};\n\nexport default Text;\n","import {\n  createContext,\n  useRef,\n  useContext,\n  useLayoutEffect,\n  useState,\n  useCallback,\n} from 'react';\nimport classNames from 'classnames';\nimport VisuallyHidden from 'components/VisuallyHidden';\nimport { numToPx } from 'utils/style';\nimport { blurOnMouseUp } from 'utils/focus';\nimport { useId } from 'hooks';\nimport './index.css';\n\nconst SegmentedControlContext = createContext({});\n\nconst SegmentedControl = ({ children, currentIndex, onChange, label, ...props }) => {\n  const id = useId();\n  const labelId = `segmented-control-label-${id}`;\n  const optionRefs = useRef([]);\n  const [indicator, setIndicator] = useState();\n\n  const handleKeyDown = event => {\n    const { length } = optionRefs.current;\n    const prevIndex = (currentIndex - 1 + length) % length;\n    const nextIndex = (currentIndex + 1) % length;\n\n    if (['ArrowLeft', 'ArrowUp'].includes(event.key)) {\n      onChange(prevIndex);\n      optionRefs.current[prevIndex].current.focus();\n    } else if (['ArrowRight', 'ArrowDown'].includes(event.key)) {\n      onChange(nextIndex);\n      optionRefs.current[nextIndex].current.focus();\n    }\n  };\n\n  const registerOption = useCallback(optionRef => {\n    optionRefs.current = [...optionRefs.current, optionRef];\n  }, []);\n\n  useLayoutEffect(() => {\n    const currentOption = optionRefs.current[currentIndex]?.current;\n\n    const resizeObserver = new ResizeObserver(() => {\n      const rect = currentOption?.getBoundingClientRect();\n      const left = currentOption?.offsetLeft;\n      setIndicator({ width: rect?.width, left });\n    });\n\n    resizeObserver.observe(currentOption);\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [currentIndex]);\n\n  return (\n    <SegmentedControlContext.Provider\n      value={{ optionRefs, currentIndex, onChange, registerOption }}\n    >\n      <div\n        className=\"segmented-control\"\n        role=\"radiogroup\"\n        aria-labelledby={labelId}\n        onKeyDown={handleKeyDown}\n        {...props}\n      >\n        <VisuallyHidden as=\"label\" className=\"segmented-control__label\" id={labelId}>\n          {label}\n        </VisuallyHidden>\n        <div className=\"segmented-control__options\">\n          {!!indicator && (\n            <div\n              className={classNames('segmented-control__indicator', {\n                'segmented-control__indicator--last':\n                  currentIndex === optionRefs.current.length - 1,\n              })}\n              style={{\n                '--left': numToPx(indicator.left),\n                '--width': numToPx(indicator.width),\n              }}\n            />\n          )}\n          {children}\n        </div>\n      </div>\n    </SegmentedControlContext.Provider>\n  );\n};\n\nexport const SegmentedControlOption = ({ children, ...props }) => {\n  const { optionRefs, currentIndex, onChange, registerOption } = useContext(\n    SegmentedControlContext\n  );\n  const optionRef = useRef();\n  const index = optionRefs.current.indexOf(optionRef);\n  const isSelected = currentIndex === index;\n\n  useLayoutEffect(() => {\n    registerOption(optionRef);\n  }, [registerOption]);\n\n  return (\n    <button\n      className=\"segmented-control__button\"\n      tabIndex={isSelected ? 0 : -1}\n      role=\"radio\"\n      aria-checked={isSelected}\n      onClick={() => onChange(index)}\n      onMouseUp={blurOnMouseUp}\n      ref={optionRef}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default SegmentedControl;\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from '../../../build/three.module.js';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t// the target DOM element for key events\n\tthis._domElementKeyEvents = null;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\tthis._domElementKeyEvents = domElement;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().invert();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t}\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\t\tevent.stopPropagation();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","import {\n\tDataTextureLoader,\n\tDataUtils,\n\tFloatType,\n\tHalfFloatType,\n\tLinearEncoding,\n\tLinearFilter,\n\tNearestFilter,\n\tRGBEEncoding,\n\tRGBEFormat,\n\tRGBFormat,\n\tUnsignedByteType\n} from '../../../build/three.module.js';\n\n// https://github.com/mrdoob/three.js/issues/5552\n// http://en.wikipedia.org/wiki/RGBE_image_format\n\nvar RGBELoader = function ( manager ) {\n\n\tDataTextureLoader.call( this, manager );\n\n\tthis.type = UnsignedByteType;\n\n};\n\nRGBELoader.prototype = Object.assign( Object.create( DataTextureLoader.prototype ), {\n\n\tconstructor: RGBELoader,\n\n\t// adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\n\n\tparse: function ( buffer ) {\n\n\t\tvar\n\t\t\t/* return codes for rgbe routines */\n\t\t\t//RGBE_RETURN_SUCCESS = 0,\n\t\t\tRGBE_RETURN_FAILURE = - 1,\n\n\t\t\t/* default error routine.  change this to change error handling */\n\t\t\trgbe_read_error = 1,\n\t\t\trgbe_write_error = 2,\n\t\t\trgbe_format_error = 3,\n\t\t\trgbe_memory_error = 4,\n\t\t\trgbe_error = function ( rgbe_error_code, msg ) {\n\n\t\t\t\tswitch ( rgbe_error_code ) {\n\n\t\t\t\t\tcase rgbe_read_error: console.error( 'THREE.RGBELoader Read Error: ' + ( msg || '' ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase rgbe_write_error: console.error( 'THREE.RGBELoader Write Error: ' + ( msg || '' ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase rgbe_format_error: console.error( 'THREE.RGBELoader Bad File Format: ' + ( msg || '' ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\tcase rgbe_memory_error: console.error( 'THREE.RGBELoader: Error: ' + ( msg || '' ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn RGBE_RETURN_FAILURE;\n\n\t\t\t},\n\n\t\t\t/* offsets to red, green, and blue components in a data (float) pixel */\n\t\t\t//RGBE_DATA_RED = 0,\n\t\t\t//RGBE_DATA_GREEN = 1,\n\t\t\t//RGBE_DATA_BLUE = 2,\n\n\t\t\t/* number of floats per pixel, use 4 since stored in rgba image format */\n\t\t\t//RGBE_DATA_SIZE = 4,\n\n\t\t\t/* flags indicating which fields in an rgbe_header_info are valid */\n\t\t\tRGBE_VALID_PROGRAMTYPE = 1,\n\t\t\tRGBE_VALID_FORMAT = 2,\n\t\t\tRGBE_VALID_DIMENSIONS = 4,\n\n\t\t\tNEWLINE = '\\n',\n\n\t\t\tfgets = function ( buffer, lineLimit, consume ) {\n\n\t\t\t\tlineLimit = ! lineLimit ? 1024 : lineLimit;\n\t\t\t\tvar p = buffer.pos,\n\t\t\t\t\ti = - 1, len = 0, s = '', chunkSize = 128,\n\t\t\t\t\tchunk = String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) )\n\t\t\t\t;\n\t\t\t\twhile ( ( 0 > ( i = chunk.indexOf( NEWLINE ) ) ) && ( len < lineLimit ) && ( p < buffer.byteLength ) ) {\n\n\t\t\t\t\ts += chunk; len += chunk.length;\n\t\t\t\t\tp += chunkSize;\n\t\t\t\t\tchunk += String.fromCharCode.apply( null, new Uint16Array( buffer.subarray( p, p + chunkSize ) ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( - 1 < i ) {\n\n\t\t\t\t\t/*for (i=l-1; i>=0; i--) {\n\t\t\t\t\t\tbyteCode = m.charCodeAt(i);\n\t\t\t\t\t\tif (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\n\t\t\t\t\t\telse if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\n\t\t\t\t\t\tif (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\n\t\t\t\t\t}*/\n\t\t\t\t\tif ( false !== consume ) buffer.pos += len + i + 1;\n\t\t\t\t\treturn s + chunk.slice( 0, i );\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t},\n\n\t\t\t/* minimal header reading.  modify if you want to parse more information */\n\t\t\tRGBE_ReadHeader = function ( buffer ) {\n\n\t\t\t\tvar line, match,\n\n\t\t\t\t\t// regexes to parse header info fields\n\t\t\t\t\tmagic_token_re = /^#\\?(\\S+)/,\n\t\t\t\t\tgamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n\t\t\t\t\texposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n\t\t\t\t\tformat_re = /^\\s*FORMAT=(\\S+)\\s*$/,\n\t\t\t\t\tdimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\n\n\t\t\t\t\t// RGBE format header struct\n\t\t\t\t\theader = {\n\n\t\t\t\t\t\tvalid: 0, /* indicate which fields are valid */\n\n\t\t\t\t\t\tstring: '', /* the actual header string */\n\n\t\t\t\t\t\tcomments: '', /* comments found in header */\n\n\t\t\t\t\t\tprogramtype: 'RGBE', /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\n\n\t\t\t\t\t\tformat: '', /* RGBE format, default 32-bit_rle_rgbe */\n\n\t\t\t\t\t\tgamma: 1.0, /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\n\n\t\t\t\t\t\texposure: 1.0, /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\n\n\t\t\t\t\t\twidth: 0, height: 0 /* image dimensions, width/height */\n\n\t\t\t\t\t};\n\n\t\t\t\tif ( buffer.pos >= buffer.byteLength || ! ( line = fgets( buffer ) ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_read_error, 'no header found' );\n\n\t\t\t\t}\n\n\t\t\t\t/* if you want to require the magic token then uncomment the next line */\n\t\t\t\tif ( ! ( match = line.match( magic_token_re ) ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'bad initial token' );\n\n\t\t\t\t}\n\n\t\t\t\theader.valid |= RGBE_VALID_PROGRAMTYPE;\n\t\t\t\theader.programtype = match[ 1 ];\n\t\t\t\theader.string += line + '\\n';\n\n\t\t\t\twhile ( true ) {\n\n\t\t\t\t\tline = fgets( buffer );\n\t\t\t\t\tif ( false === line ) break;\n\t\t\t\t\theader.string += line + '\\n';\n\n\t\t\t\t\tif ( '#' === line.charAt( 0 ) ) {\n\n\t\t\t\t\t\theader.comments += line + '\\n';\n\t\t\t\t\t\tcontinue; // comment line\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( gamma_re ) ) {\n\n\t\t\t\t\t\theader.gamma = parseFloat( match[ 1 ], 10 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( exposure_re ) ) {\n\n\t\t\t\t\t\theader.exposure = parseFloat( match[ 1 ], 10 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( format_re ) ) {\n\n\t\t\t\t\t\theader.valid |= RGBE_VALID_FORMAT;\n\t\t\t\t\t\theader.format = match[ 1 ];//'32-bit_rle_rgbe';\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( match = line.match( dimensions_re ) ) {\n\n\t\t\t\t\t\theader.valid |= RGBE_VALID_DIMENSIONS;\n\t\t\t\t\t\theader.height = parseInt( match[ 1 ], 10 );\n\t\t\t\t\t\theader.width = parseInt( match[ 2 ], 10 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( header.valid & RGBE_VALID_FORMAT ) && ( header.valid & RGBE_VALID_DIMENSIONS ) ) break;\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_FORMAT ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'missing format specifier' );\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! ( header.valid & RGBE_VALID_DIMENSIONS ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'missing image size specifier' );\n\n\t\t\t\t}\n\n\t\t\t\treturn header;\n\n\t\t\t},\n\n\t\t\tRGBE_ReadPixels_RLE = function ( buffer, w, h ) {\n\n\t\t\t\tvar data_rgba, offset, pos, count, byteValue,\n\t\t\t\t\tscanline_buffer, ptr, ptr_end, i, l, off, isEncodedRun,\n\t\t\t\t\tscanline_width = w, num_scanlines = h, rgbeStart\n\t\t\t\t;\n\n\t\t\t\tif (\n\t\t\t\t\t// run length encoding is not allowed so read flat\n\t\t\t\t\t( ( scanline_width < 8 ) || ( scanline_width > 0x7fff ) ) ||\n\t\t\t\t\t// this file is not run length encoded\n\t\t\t\t\t( ( 2 !== buffer[ 0 ] ) || ( 2 !== buffer[ 1 ] ) || ( buffer[ 2 ] & 0x80 ) )\n\t\t\t\t) {\n\n\t\t\t\t\t// return the flat buffer\n\t\t\t\t\treturn new Uint8Array( buffer );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scanline_width !== ( ( buffer[ 2 ] << 8 ) | buffer[ 3 ] ) ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'wrong scanline width' );\n\n\t\t\t\t}\n\n\t\t\t\tdata_rgba = new Uint8Array( 4 * w * h );\n\n\t\t\t\tif ( ! data_rgba.length ) {\n\n\t\t\t\t\treturn rgbe_error( rgbe_memory_error, 'unable to allocate buffer space' );\n\n\t\t\t\t}\n\n\t\t\t\toffset = 0; pos = 0; ptr_end = 4 * scanline_width;\n\t\t\t\trgbeStart = new Uint8Array( 4 );\n\t\t\t\tscanline_buffer = new Uint8Array( ptr_end );\n\n\t\t\t\t// read in each successive scanline\n\t\t\t\twhile ( ( num_scanlines > 0 ) && ( pos < buffer.byteLength ) ) {\n\n\t\t\t\t\tif ( pos + 4 > buffer.byteLength ) {\n\n\t\t\t\t\t\treturn rgbe_error( rgbe_read_error );\n\n\t\t\t\t\t}\n\n\t\t\t\t\trgbeStart[ 0 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 1 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 2 ] = buffer[ pos ++ ];\n\t\t\t\t\trgbeStart[ 3 ] = buffer[ pos ++ ];\n\n\t\t\t\t\tif ( ( 2 != rgbeStart[ 0 ] ) || ( 2 != rgbeStart[ 1 ] ) || ( ( ( rgbeStart[ 2 ] << 8 ) | rgbeStart[ 3 ] ) != scanline_width ) ) {\n\n\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'bad rgbe scanline format' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// read each of the four channels for the scanline into the buffer\n\t\t\t\t\t// first red, then green, then blue, then exponent\n\t\t\t\t\tptr = 0;\n\t\t\t\t\twhile ( ( ptr < ptr_end ) && ( pos < buffer.byteLength ) ) {\n\n\t\t\t\t\t\tcount = buffer[ pos ++ ];\n\t\t\t\t\t\tisEncodedRun = count > 128;\n\t\t\t\t\t\tif ( isEncodedRun ) count -= 128;\n\n\t\t\t\t\t\tif ( ( 0 === count ) || ( ptr + count > ptr_end ) ) {\n\n\t\t\t\t\t\t\treturn rgbe_error( rgbe_format_error, 'bad scanline data' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( isEncodedRun ) {\n\n\t\t\t\t\t\t\t// a (encoded) run of the same value\n\t\t\t\t\t\t\tbyteValue = buffer[ pos ++ ];\n\t\t\t\t\t\t\tfor ( i = 0; i < count; i ++ ) {\n\n\t\t\t\t\t\t\t\tscanline_buffer[ ptr ++ ] = byteValue;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//ptr += count;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// a literal-run\n\t\t\t\t\t\t\tscanline_buffer.set( buffer.subarray( pos, pos + count ), ptr );\n\t\t\t\t\t\t\tptr += count; pos += count;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\t// now convert data from buffer into rgba\n\t\t\t\t\t// first red, then green, then blue, then exponent (alpha)\n\t\t\t\t\tl = scanline_width; //scanline_buffer.byteLength;\n\t\t\t\t\tfor ( i = 0; i < l; i ++ ) {\n\n\t\t\t\t\t\toff = 0;\n\t\t\t\t\t\tdata_rgba[ offset ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 1 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 2 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toff += scanline_width; //1;\n\t\t\t\t\t\tdata_rgba[ offset + 3 ] = scanline_buffer[ i + off ];\n\t\t\t\t\t\toffset += 4;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tnum_scanlines --;\n\n\t\t\t\t}\n\n\t\t\t\treturn data_rgba;\n\n\t\t\t};\n\n\t\tvar RGBEByteToRGBFloat = function ( sourceArray, sourceOffset, destArray, destOffset ) {\n\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\n\n\t\t\tdestArray[ destOffset + 0 ] = sourceArray[ sourceOffset + 0 ] * scale;\n\t\t\tdestArray[ destOffset + 1 ] = sourceArray[ sourceOffset + 1 ] * scale;\n\t\t\tdestArray[ destOffset + 2 ] = sourceArray[ sourceOffset + 2 ] * scale;\n\n\t\t};\n\n\t\tvar RGBEByteToRGBHalf = function ( sourceArray, sourceOffset, destArray, destOffset ) {\n\n\t\t\tvar e = sourceArray[ sourceOffset + 3 ];\n\t\t\tvar scale = Math.pow( 2.0, e - 128.0 ) / 255.0;\n\n\t\t\tdestArray[ destOffset + 0 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 0 ] * scale );\n\t\t\tdestArray[ destOffset + 1 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 1 ] * scale );\n\t\t\tdestArray[ destOffset + 2 ] = DataUtils.toHalfFloat( sourceArray[ sourceOffset + 2 ] * scale );\n\n\t\t};\n\n\t\tvar byteArray = new Uint8Array( buffer );\n\t\tbyteArray.pos = 0;\n\t\tvar rgbe_header_info = RGBE_ReadHeader( byteArray );\n\n\t\tif ( RGBE_RETURN_FAILURE !== rgbe_header_info ) {\n\n\t\t\tvar w = rgbe_header_info.width,\n\t\t\t\th = rgbe_header_info.height,\n\t\t\t\timage_rgba_data = RGBE_ReadPixels_RLE( byteArray.subarray( byteArray.pos ), w, h );\n\n\t\t\tif ( RGBE_RETURN_FAILURE !== image_rgba_data ) {\n\n\t\t\t\tswitch ( this.type ) {\n\n\t\t\t\t\tcase UnsignedByteType:\n\n\t\t\t\t\t\tvar data = image_rgba_data;\n\t\t\t\t\t\tvar format = RGBEFormat; // handled as THREE.RGBAFormat in shaders\n\t\t\t\t\t\tvar type = UnsignedByteType;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase FloatType:\n\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\n\t\t\t\t\t\tvar floatArray = new Float32Array( numElements );\n\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\n\n\t\t\t\t\t\t\tRGBEByteToRGBFloat( image_rgba_data, j * 4, floatArray, j * 3 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar data = floatArray;\n\t\t\t\t\t\tvar format = RGBFormat;\n\t\t\t\t\t\tvar type = FloatType;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase HalfFloatType:\n\n\t\t\t\t\t\tvar numElements = ( image_rgba_data.length / 4 ) * 3;\n\t\t\t\t\t\tvar halfArray = new Uint16Array( numElements );\n\n\t\t\t\t\t\tfor ( var j = 0; j < numElements; j ++ ) {\n\n\t\t\t\t\t\t\tRGBEByteToRGBHalf( image_rgba_data, j * 4, halfArray, j * 3 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar data = halfArray;\n\t\t\t\t\t\tvar format = RGBFormat;\n\t\t\t\t\t\tvar type = HalfFloatType;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.error( 'THREE.RGBELoader: unsupported type: ', this.type );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\twidth: w, height: h,\n\t\t\t\t\tdata: data,\n\t\t\t\t\theader: rgbe_header_info.string,\n\t\t\t\t\tgamma: rgbe_header_info.gamma,\n\t\t\t\t\texposure: rgbe_header_info.exposure,\n\t\t\t\t\tformat: format,\n\t\t\t\t\ttype: type\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tsetDataType: function ( value ) {\n\n\t\tthis.type = value;\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tfunction onLoadCallback( texture, texData ) {\n\n\t\t\tswitch ( texture.type ) {\n\n\t\t\t\tcase UnsignedByteType:\n\n\t\t\t\t\ttexture.encoding = RGBEEncoding;\n\t\t\t\t\ttexture.minFilter = NearestFilter;\n\t\t\t\t\ttexture.magFilter = NearestFilter;\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\ttexture.flipY = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase FloatType:\n\n\t\t\t\t\ttexture.encoding = LinearEncoding;\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\ttexture.magFilter = LinearFilter;\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\ttexture.flipY = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase HalfFloatType:\n\n\t\t\t\t\ttexture.encoding = LinearEncoding;\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\ttexture.magFilter = LinearFilter;\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\ttexture.flipY = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}\n\n\t\treturn DataTextureLoader.prototype.load.call( this, url, onLoadCallback, onProgress, onError );\n\n\t}\n\n} );\n\nexport { RGBELoader };\n","import './Earth.css';\n\nimport earthModel from 'assets/earth.glb';\nimport milkywayHdr from 'assets/milkyway.hdr';\nimport milkywayBg from 'assets/milkyway.jpg';\nimport classNames from 'classnames';\nimport { useInViewport, usePrefersReducedMotion, useWindowSize } from 'hooks';\nimport { spring, transform, value } from 'popmotion';\nimport {\n  createContext,\n  forwardRef,\n  memo,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  ACESFilmicToneMapping,\n  AmbientLight,\n  AnimationMixer,\n  Clock,\n  DirectionalLight,\n  LoopOnce,\n  PMREMGenerator,\n  PerspectiveCamera,\n  Raycaster,\n  Scene,\n  Sprite,\n  TextureLoader,\n  UnsignedByteType,\n  Vector2,\n  Vector3,\n  WebGLCubeRenderTarget,\n  WebGLRenderer,\n  sRGBEncoding,\n} from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\nimport { media } from 'utils/style';\nimport { cleanRenderer, cleanScene, removeLights } from 'utils/three';\n\nconst nullTarget = { x: 0, y: 0, z: 2 };\n\nconst interpolatePosition = (value, nextValue, percent) =>\n  value + percent * (nextValue - value);\n\nconst positionToString = value =>\n  Object.keys(value)\n    .map(key => parseFloat(Math.round(value[key] * 100) / 100).toFixed(2))\n    .join(', ');\n\nconst getPositionValues = section => {\n  if (!section || !section.camera) return nullTarget;\n\n  return {\n    x: section.camera[0],\n    y: section.camera[1],\n    z: section.camera[2],\n  };\n};\n\nconst isEqualCameraPosition = (position1, position2) => {\n  const round = (num = 0) => Math.round((num + Number.EPSILON) * 100) / 100;\n\n  return (\n    round(position1?.x) === round(position2?.x) &&\n    round(position1?.y) === round(position2?.y) &&\n    round(position1?.z) === round(position2?.z)\n  );\n};\n\nconst EarthContext = createContext({});\n\nconst Earth = forwardRef(\n  (\n    {\n      position = [0, 0, 0],\n      scale = 1,\n      hideMeshes = [],\n      labels = [],\n      className,\n      children,\n    },\n    ref\n  ) => {\n    const [loaded, setLoaded] = useState(false);\n    const [grabbing, setGrabbing] = useState(false);\n    const sectionRefs = useRef([]);\n    const defaultContainer = useRef();\n    const container = ref || defaultContainer;\n    const labelContainer = useRef();\n    const canvas = useRef();\n    const scene = useRef();\n    const renderer = useRef();\n    const camera = useRef();\n    const clock = useRef();\n    const mouse = useRef();\n    const raycaster = useRef();\n    const sceneModel = useRef();\n    const animations = useRef();\n    const mixer = useRef();\n    const fetching = useRef(false);\n    const inViewport = useInViewport(canvas);\n    const animationFrame = useRef();\n    const initCameraPosition = useRef(getPositionValues(sectionRefs.current[0]));\n    const labelElements = useRef([]);\n    const cameraValue = useRef();\n    const controls = useRef();\n    const envMap = useRef();\n    const skyBox = useRef();\n    const contentAdded = useRef();\n    const cameraSpring = useRef();\n    const mounted = useRef();\n    const { width: windowWidth, height: windowHeight } = useWindowSize();\n    const reduceMotion = usePrefersReducedMotion();\n\n    const animate = useCallback(() => {\n      if (!inViewport) {\n        cancelAnimationFrame(animationFrame.current);\n        return;\n      }\n\n      animationFrame.current = requestAnimationFrame(animate);\n      const delta = clock.current.getDelta();\n      mixer.current.update(delta);\n      controls.current.update();\n      renderer.current.render(scene.current, camera.current);\n\n      // Render labels\n      labelElements.current.forEach(label => {\n        const { element, position, sprite } = label;\n        const vector = new Vector3(...position);\n        const meshDistance = camera.current.position.distanceTo(\n          sceneModel.current.position\n        );\n        const spriteDistance = camera.current.position.distanceTo(sprite.position);\n        const spriteBehindObject = spriteDistance > meshDistance;\n\n        vector.project(camera.current);\n        vector.x = Math.round((0.5 + vector.x / 2) * window.innerWidth);\n        vector.y = Math.round((0.5 - vector.y / 2) * window.innerHeight);\n        element.style.transform = `translate3d(-50%, -50%, 0) translate3d(${vector.x}px, ${vector.y}px, 0)`;\n\n        if (spriteBehindObject) {\n          element.classList.add('earth__label--occluded');\n        } else {\n          element.classList.remove('earth__label--occluded');\n        }\n      });\n    }, [inViewport]);\n\n    useEffect(() => {\n      mounted.current = true;\n      const { innerWidth, innerHeight } = window;\n\n      renderer.current = new WebGLRenderer({\n        canvas: canvas.current,\n        antialias: false,\n        powerPreference: 'high-performance',\n      });\n      renderer.current.setPixelRatio(1);\n      renderer.current.outputEncoding = sRGBEncoding;\n      renderer.current.physicallyCorrectLights = true;\n      renderer.current.toneMapping = ACESFilmicToneMapping;\n\n      camera.current = new PerspectiveCamera(54, innerWidth / innerHeight, 0.1, 100);\n      camera.current.position.x = initCameraPosition.current.x;\n      camera.current.position.y = initCameraPosition.current.y;\n      camera.current.position.z = initCameraPosition.current.z;\n      camera.current.lookAt(0, 0, 0);\n\n      const handleControlStart = () => {\n        cameraSpring.current?.stop();\n        setGrabbing(true);\n      };\n      const handleControlEnd = () => setGrabbing(false);\n\n      controls.current = new OrbitControls(camera.current, canvas.current);\n      controls.current.enableZoom = false;\n      controls.current.enablePan = false;\n      controls.current.enableDamping = true;\n      controls.current.dampingFactor = 0.1;\n      controls.current.rotateSpeed = 0.5;\n      controls.current.addEventListener('start', handleControlStart);\n      controls.current.addEventListener('end', handleControlEnd);\n\n      scene.current = new Scene();\n      clock.current = new Clock();\n      raycaster.current = new Raycaster();\n\n      const ambientLight = new AmbientLight(0x222222, 0.05);\n      const dirLight = new DirectionalLight(0xffffff, 1.5);\n      dirLight.position.set(3, 0, 1);\n      const lights = [ambientLight, dirLight];\n      lights.forEach(light => scene.current.add(light));\n\n      return () => {\n        mounted.current = false;\n        cancelAnimationFrame(animationFrame.current);\n        controls.current.removeEventListener('start', handleControlStart);\n        controls.current.removeEventListener('end', handleControlEnd);\n        removeLights(lights);\n        cleanScene(scene.current);\n        cleanRenderer(renderer.current);\n      };\n    }, []);\n\n    useEffect(() => {\n      if (windowWidth <= media.tablet) {\n        controls.current.enabled = false;\n      }\n    }, [windowWidth]);\n\n    useEffect(() => {\n      if (loaded || fetching.current) return;\n\n      const gltfLoader = new GLTFLoader();\n      const rgbeLoader = new RGBELoader();\n      const textureLoader = new TextureLoader();\n      const pmremGenerator = new PMREMGenerator(renderer.current);\n      pmremGenerator.compileEquirectangularShader();\n\n      const loadModel = async () => {\n        const gltf = await gltfLoader.loadAsync(earthModel);\n\n        sceneModel.current = gltf.scene;\n        animations.current = gltf.animations;\n        mixer.current = new AnimationMixer(sceneModel.current);\n        mixer.current.timeScale = 0.1;\n\n        sceneModel.current.traverse(child => {\n          const { material, name } = child;\n\n          if (name === 'Atmosphere') {\n            material.alphaMap = material.map;\n          }\n        });\n\n        sceneModel.current.position.x = position[0];\n        sceneModel.current.position.y = position[1];\n        sceneModel.current.position.z = position[2];\n\n        sceneModel.current.scale.x = scale;\n        sceneModel.current.scale.y = scale;\n        sceneModel.current.scale.z = scale;\n      };\n\n      const loadEnv = async () => {\n        const hdrTexture = await rgbeLoader\n          .setDataType(UnsignedByteType)\n          .loadAsync(milkywayHdr);\n\n        envMap.current = pmremGenerator.fromEquirectangular(hdrTexture).texture;\n        pmremGenerator.dispose();\n      };\n\n      const loadBackground = async () => {\n        const backgroundTexture = await textureLoader.loadAsync(milkywayBg);\n        backgroundTexture.encoding = sRGBEncoding;\n\n        const cubeTarget = new WebGLCubeRenderTarget(4096);\n        skyBox.current = cubeTarget.fromEquirectangularTexture(\n          renderer.current,\n          backgroundTexture\n        );\n      };\n\n      const handleLoad = async () => {\n        await Promise.all([loadBackground(), loadEnv(), loadModel()]);\n\n        if (mounted.current) {\n          setLoaded(true);\n        }\n\n        fetching.current = false;\n      };\n\n      fetching.current = true;\n      handleLoad();\n    }, [loaded, position, scale]);\n\n    useEffect(() => {\n      // Add models and textures once visible\n      if (loaded && inViewport && !contentAdded.current) {\n        scene.current.add(sceneModel.current);\n        scene.current.environment = envMap.current;\n        scene.current.background = skyBox.current;\n        contentAdded.current = true;\n      }\n\n      // Only animate while visible\n      if (loaded && inViewport) {\n        animate();\n      }\n\n      return () => {\n        cancelAnimationFrame(animationFrame.current);\n      };\n    }, [animate, inViewport, loaded]);\n\n    useEffect(() => {\n      if (loaded) {\n        labelContainer.current.innerHTML = '';\n        labelElements.current = labels.map(label => {\n          const element = document.createElement('div');\n          element.classList.add('earth__label');\n          element.classList.add('earth__label--hidden');\n          element.style.setProperty('--delay', `${label.delay || 0}ms`);\n          element.textContent = label.text;\n          labelContainer.current.appendChild(element);\n          const sprite = new Sprite();\n          sprite.position.set(...label.position);\n          sprite.scale.set(60, 60, 1);\n          return { element, ...label, sprite };\n        });\n      }\n    }, [labels, loaded]);\n\n    useEffect(() => {\n      renderer.current.setSize(windowWidth, windowHeight);\n      camera.current.aspect = windowWidth / windowHeight;\n      camera.current.updateProjectionMatrix();\n    }, [windowWidth, windowHeight]);\n\n    useEffect(() => {\n      const currentCanvas = canvas.current;\n\n      // Log readouts for dev in console\n      const handleMouseUp = event => {\n        const { innerWidth, innerHeight } = window;\n        // Set a camera position property to help with defining camera angles\n        const cameraPosition = positionToString(camera.current.position);\n        console.log({ cameraPosition });\n\n        // Set a surface position to help with defining annotations\n        mouse.current = new Vector2(\n          (event.clientX / innerWidth) * 2 - 1,\n          -(event.clientY / innerHeight) * 2 + 1\n        );\n        raycaster.current.setFromCamera(mouse.current, camera.current);\n        const intersects = raycaster.current.intersectObjects(\n          scene.current.children,\n          true\n        );\n\n        if (intersects.length > 0) {\n          const clickPosition = positionToString(intersects[0].point);\n          console.log({ clickPosition });\n        }\n      };\n\n      if (process.env.NODE_ENV === 'development') {\n        currentCanvas.addEventListener('click', handleMouseUp);\n      }\n\n      return () => {\n        currentCanvas.removeEventListener('click', handleMouseUp);\n      };\n    }, []);\n\n    useEffect(() => {\n      let chunkSpring;\n      let chunkValue;\n      let chunkValueSubscription;\n      let opacitySpring;\n      let opacityValue;\n      const { offsetTop } = container.current;\n      const { innerHeight } = window;\n\n      const handleScroll = () => {\n        const currentScrollY = window.scrollY - offsetTop;\n        let prevTarget;\n\n        if (chunkValueSubscription) {\n          chunkValueSubscription.unsubscribe();\n        }\n\n        const getChild = name => {\n          let node;\n\n          sceneModel.current.traverse(child => {\n            if (child.name === name) {\n              node = child;\n            }\n          });\n\n          return node;\n        };\n\n        const updateMeshes = index => {\n          const visibleMeshes = sectionRefs.current[index].meshes;\n\n          sceneModel.current.traverse(child => {\n            const { name } = child;\n            const isVisible = visibleMeshes && visibleMeshes.includes(name);\n            const isHidden = hideMeshes.includes(name);\n            const chunk = getChild('Chunk');\n            const earthFull = getChild('EarthFull');\n            const earthPartial = getChild('EarthPartial');\n            const atmosphere = getChild('Atmosphere');\n\n            if (!opacityValue) {\n              opacityValue = value(atmosphere.material.opacity, opacity => {\n                atmosphere.material.opacity = opacity;\n              });\n            }\n\n            const setChunkValue = () => {\n              chunkValue = value(chunk.position, ({ x, y, z }) => {\n                chunk.position.set(x, y, z);\n              });\n            };\n\n            if (!chunkValue) {\n              setChunkValue();\n            }\n\n            const opacitySpringConfig = {\n              from: opacityValue?.get(),\n              velocity: opacityValue?.getVelocity(),\n              stiffness: 16,\n              damping: 32,\n            };\n\n            const chunkSpringConfig = {\n              from: chunkValue?.get(),\n              velocity: chunkValue?.getVelocity(),\n              stiffness: 32,\n              damping: 26,\n              mass: 1.8,\n              restSpeed: 0.001,\n            };\n\n            if (isVisible) {\n              if (name === 'Atmosphere') {\n                child.visible = true;\n                opacitySpring = spring({ ...opacitySpringConfig, to: 1 }).start(\n                  opacityValue\n                );\n              } else if (name === 'Chunk') {\n                const chunkPosition = new Vector3(-0.4, 0.4, 0.4);\n                child.visible = true;\n                chunkValueSubscription = chunkValue.subscribe({\n                  complete: setChunkValue,\n                });\n\n                if (reduceMotion) {\n                  chunk.position.set(...chunkPosition.toArray());\n                } else {\n                  chunkSpring = spring({\n                    ...chunkSpringConfig,\n                    to: chunkPosition,\n                  }).start(chunkValue);\n                }\n              } else if (name === 'EarthFull' && chunk.visible) {\n                child.visible = false;\n              } else {\n                child.visible = true;\n              }\n            } else if (isHidden && !isVisible) {\n              if (name === 'Atmosphere') {\n                opacitySpring = spring({ ...opacitySpringConfig, to: 0 }).start(\n                  opacityValue\n                );\n              } else if (name === 'Chunk') {\n                chunkValueSubscription = chunkValue.subscribe({\n                  complete: () => {\n                    chunk.visible = false;\n                    earthPartial.visible = false;\n                    earthFull.visible = true;\n\n                    setChunkValue();\n                  },\n                });\n\n                chunkSpring = spring({\n                  ...chunkSpringConfig,\n                  to: new Vector3(0, 0, 0),\n                }).start(chunkValue);\n              } else if (name !== 'EarthPartial') {\n                child.visible = false;\n              }\n            }\n          });\n        };\n\n        const updateAnimation = index => {\n          const sectionAnimations = sectionRefs.current[index].animations;\n\n          animations.current.forEach((clip, index) => {\n            if (!sectionAnimations.find(section => section.includes(index.toString()))) {\n              const animation = mixer.current.clipAction(clip);\n              animation.reset().stop();\n            }\n          });\n\n          if (animations.current.length && sectionRefs.current[index].animations) {\n            sectionAnimations.forEach(animItem => {\n              const values = animItem.split(':');\n              const clip = animations.current[Number(values[0])];\n              const animation = mixer.current.clipAction(clip);\n\n              if (!values[1] || values[1] !== 'loop') {\n                animation.clampWhenFinished = true;\n                animation.loop = LoopOnce;\n              }\n              animation.play();\n            });\n          }\n        };\n\n        const updateLabels = index => {\n          labelElements.current.forEach(label => {\n            if (label.hidden) {\n              label.element.classList.add('earth__label--hidden');\n              label.element.setAttribute('aria-hidden', true);\n            }\n          });\n\n          const sectionLabels = sectionRefs.current[index].labels;\n\n          sectionLabels.forEach(label => {\n            const matches = labelElements.current.filter(item => item.text === label);\n            matches.forEach(match => {\n              match.element.classList.remove('earth__label--hidden');\n              match.element.setAttribute('aria-hidden', false);\n            });\n          });\n        };\n\n        const update = () => {\n          const indexRange = transform.clamp(0, sectionRefs.current.length - 1);\n\n          const currentSectionIndex = indexRange(\n            Math.floor(currentScrollY / innerHeight)\n          );\n\n          const currentTarget =\n            getPositionValues(sectionRefs.current[currentSectionIndex]) || nullTarget;\n          const nextTarget =\n            getPositionValues(sectionRefs.current[currentSectionIndex + 1]) || nullTarget;\n          const sectionScrolled =\n            (currentScrollY - innerHeight * currentSectionIndex) / innerHeight;\n\n          const scrollPercentRange = transform.clamp(0, 1);\n          const scrollPercent = scrollPercentRange(sectionScrolled);\n          const currentX = interpolatePosition(\n            currentTarget.x,\n            nextTarget.x,\n            scrollPercent\n          );\n          const currentY = interpolatePosition(\n            currentTarget.y,\n            nextTarget.y,\n            scrollPercent\n          );\n          const currentZ = interpolatePosition(\n            currentTarget.z,\n            nextTarget.z,\n            scrollPercent\n          );\n\n          if (\n            prevTarget !== currentTarget &&\n            sectionRefs.current.length &&\n            sectionRefs.current[currentSectionIndex]\n          ) {\n            updateMeshes(currentSectionIndex);\n            updateAnimation(currentSectionIndex);\n            updateLabels(currentSectionIndex);\n          }\n\n          prevTarget = currentTarget;\n\n          if (\n            !isEqualCameraPosition(cameraValue.current?.get(), camera.current.position)\n          ) {\n            cameraValue.current = value(camera.current.position, ({ x, y, z }) =>\n              camera.current.position.set(x, y, z)\n            );\n          }\n\n          if (reduceMotion) {\n            camera.current.position.set(currentX, currentY, currentZ);\n          } else {\n            cameraSpring.current = spring({\n              from: cameraValue.current.get(),\n              to: { x: currentX, y: currentY, z: currentZ },\n              velocity: cameraValue.current.getVelocity(),\n              stiffness: 80,\n              damping: 70,\n              mass: 2,\n              restSpeed: 0.001,\n            }).start(cameraValue.current);\n          }\n        };\n\n        requestAnimationFrame(update);\n      };\n\n      if (loaded && inViewport) {\n        window.addEventListener('scroll', handleScroll);\n        handleScroll();\n      }\n\n      return () => {\n        window.removeEventListener('scroll', handleScroll);\n        chunkSpring?.stop();\n        opacitySpring?.stop();\n        cameraSpring.current?.stop();\n      };\n    }, [container, hideMeshes, inViewport, loaded, reduceMotion]);\n\n    const registerSection = useCallback(section => {\n      sectionRefs.current = [...sectionRefs.current, section];\n    }, []);\n\n    const unregisterSection = useCallback(section => {\n      sectionRefs.current = sectionRefs.current.filter(item => item !== section);\n    }, []);\n\n    return (\n      <EarthContext.Provider value={{ registerSection, unregisterSection }}>\n        <div className={classNames('earth', className)} ref={container}>\n          <div className=\"earth__viewport\">\n            <canvas\n              className={classNames('earth__canvas', {\n                'earth__canvas--visible': inViewport && loaded,\n                'earth__canvas--grabbing': grabbing,\n              })}\n              ref={canvas}\n            />\n            <div className=\"earth__labels\" aria-live=\"polite\" ref={labelContainer} />\n            <div className=\"earth__vignette\" />\n          </div>\n          <div className=\"earth__sections\">{children}</div>\n        </div>\n      </EarthContext.Provider>\n    );\n  }\n);\n\nexport const EarthSection = memo(\n  ({\n    children,\n    scrim,\n    scrimReverse,\n    className,\n    camera = [0, 0, 0],\n    animations = [],\n    meshes = [],\n    labels = [],\n  }) => {\n    const { registerSection, unregisterSection } = useContext(EarthContext);\n    const sectionRef = useRef();\n    const stringifiedDeps =\n      JSON.stringify(animations) +\n      JSON.stringify(camera) +\n      JSON.stringify(labels) +\n      JSON.stringify(meshes);\n\n    useEffect(() => {\n      const section = {\n        camera,\n        animations,\n        meshes,\n        labels,\n        sectionRef,\n      };\n\n      registerSection(section);\n\n      return () => {\n        unregisterSection(section);\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [stringifiedDeps, registerSection, unregisterSection]);\n\n    return (\n      <div\n        className={classNames('earth__section', className, {\n          'earth__section--scrim': scrim,\n          'earth__section--scrim-reverse': scrimReverse,\n        })}\n        ref={sectionRef}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nexport default Earth;\n","import { Fragment, useMemo, useRef } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useAppContext, useScrollRestore } from 'hooks';\nimport Footer from 'components/Footer';\nimport {\n  ProjectContainer,\n  ProjectSection,\n  ProjectSectionContent,\n  ProjectTextRow,\n  ProjectImage,\n  ProjectSectionHeading,\n  ProjectSectionText,\n  ProjectBackground,\n  ProjectHeader,\n  ProjectSectionColumns,\n} from 'components/ProjectLayout';\nimport ThemeProvider, { useTheme } from 'components/ThemeProvider';\nimport Image from 'components/Image';\nimport SegmentedControl, { SegmentedControlOption } from 'components/SegmentedControl';\nimport prerender from 'utils/prerender';\nimport { media } from 'utils/style';\nimport backgroundSpr from 'assets/spr-background.jpg';\nimport backgroundSprLarge from 'assets/spr-background-large.jpg';\nimport backgroundSprPlaceholder from 'assets/spr-background-placeholder.jpg';\nimport imageSprLessonBuilderLight from 'assets/spr-lesson-builder-light.jpg';\nimport imageSprLessonBuilderLightLarge from 'assets/spr-lesson-builder-light-large.jpg';\nimport imageSprLessonBuilderLightPlaceholder from 'assets/spr-lesson-builder-light-placeholder.jpg';\nimport imageSprLessonBuilderDark from 'assets/spr-lesson-builder-dark.jpg';\nimport imageSprLessonBuilderDarkLarge from 'assets/spr-lesson-builder-dark-large.jpg';\nimport imageSprLessonBuilderDarkPlaceholder from 'assets/spr-lesson-builder-dark-placeholder.jpg';\nimport imageSprComponentsDark from 'assets/spr-components-dark.png';\nimport imageSprComponentsDarkLarge from 'assets/spr-components-dark-large.png';\nimport imageSprComponentsDarkPlaceholder from 'assets/spr-components-dark-placeholder.png';\nimport imageSprComponentsLight from 'assets/spr-components-light.png';\nimport imageSprComponentsLightLarge from 'assets/spr-components-light-large.png';\nimport imageSprComponentsLightPlaceholder from 'assets/spr-components-light-placeholder.png';\nimport imageSprDesignSystemDark from 'assets/spr-design-system-dark.png';\nimport imageSprDesignSystemDarkLarge from 'assets/spr-design-system-dark-large.png';\nimport imageSprDesignSystemDarkPlaceholder from 'assets/spr-design-system-dark-placeholder.png';\nimport imageSprDesignSystemLight from 'assets/spr-design-system-light.png';\nimport imageSprDesignSystemLightLarge from 'assets/spr-design-system-light-large.png';\nimport imageSprDesignSystemLightPlaceholder from 'assets/spr-design-system-light-placeholder.png';\nimport imageSprStoryboarderDark from 'assets/spr-storyboarder-dark.png';\nimport imageSprStoryboarderDarkLarge from 'assets/spr-storyboarder-dark-large.png';\nimport imageSprStoryboarderDarkPlaceholder from 'assets/spr-storyboarder-dark-placeholder.png';\nimport imageSprStoryboarderLight from 'assets/spr-storyboarder-light.png';\nimport imageSprStoryboarderLightLarge from 'assets/spr-storyboarder-light-large.png';\nimport imageSprStoryboarderLightPlaceholder from 'assets/spr-storyboarder-light-placeholder.png';\nimport imageSprBackgroundVolcanism from 'assets/spr-background-volcanism.jpg';\nimport imageSprBackgroundVolcanismLarge from 'assets/spr-background-volcanism-large.jpg';\nimport imageSprBackgroundVolcanismPlaceholder from 'assets/spr-background-volcanism-placeholder.jpg';\nimport imageSprSchema1Light from 'assets/spr-schema-1-light.png';\nimport imageSprSchema1LightLarge from 'assets/spr-schema-1-light-large.png';\nimport imageSprSchema1LightPlaceholder from 'assets/spr-schema-1-light-placeholder.png';\nimport imageSprSchema1Dark from 'assets/spr-schema-1-dark.png';\nimport imageSprSchema1DarkLarge from 'assets/spr-schema-1-dark-large.png';\nimport imageSprSchema1DarkPlaceholder from 'assets/spr-schema-1-dark-placeholder.png';\nimport imageSprSchema2Light from 'assets/spr-schema-2-light.png';\nimport imageSprSchema2LightLarge from 'assets/spr-schema-2-light-large.png';\nimport imageSprSchema2LightPlaceholder from 'assets/spr-schema-2-light-placeholder.png';\nimport imageSprSchema2Dark from 'assets/spr-schema-2-dark.png';\nimport imageSprSchema2DarkLarge from 'assets/spr-schema-2-dark-large.png';\nimport imageSprSchema2DarkPlaceholder from 'assets/spr-schema-2-dark-placeholder.png';\nimport videoSprMotion from 'assets/spr-motion.mp4';\nimport videoSprMotionLarge from 'assets/spr-motion-large.mp4';\nimport videoSprMotionPlaceholder from 'assets/spr-motion-placeholder.jpg';\nimport Earth, { EarthSection } from './Earth';\nimport './index.css';\n\nconst title = 'Designing the future of education';\nconst description =\n  'I worked as the design lead on a major iteration of Smart Sparrow’s product. We took the platform in a bold new direction, focusing on becoming the best tool for learning designers.';\nconst roles = [\n  'Art Direction',\n  'UX and UI Design',\n  'Front End Development',\n  'Motion Design',\n];\n\nconst ProjectSPR = () => {\n  const { themeId } = useTheme();\n  const { dispatch } = useAppContext();\n  const motionSectionRef = useRef();\n  const earthSectionRef = useRef();\n  useScrollRestore();\n\n  const isDark = themeId === 'dark';\n  const themes = ['dark', 'light'];\n\n  const handleThemeChange = index => {\n    dispatch({ type: 'setTheme', value: themes[index] });\n  };\n\n  return (\n\n    <Fragment>\n      <ProjectContainer className=\"spr\">\n        <Helmet>\n          <title>{`Projects | ${title}`}</title>\n          <meta name=\"description\" content={description} />\n        </Helmet>\n        <ProjectBackground\n          opacity={isDark ? 0.5 : 0.8}\n          srcSet={`${backgroundSpr} 1080w, ${backgroundSprLarge} 2160w`}\n          placeholder={backgroundSprPlaceholder}\n          entered={!prerender}\n        />\n        <ProjectHeader\n          title={title}\n          description={description}\n          url=\"https://www.smartsparrow.com/\"\n          roles={roles}\n        />\n        <ProjectSection first>\n          <ProjectSectionContent>\n            <ProjectImage\n              raised\n              key={themeId}\n              srcSet={`${\n                isDark ? imageSprLessonBuilderDark : imageSprLessonBuilderLight\n              } 1280w, ${\n                isDark ? imageSprLessonBuilderDarkLarge : imageSprLessonBuilderLightLarge\n              } 2560w`}\n              placeholder={\n                isDark\n                  ? imageSprLessonBuilderDarkPlaceholder\n                  : imageSprLessonBuilderLightPlaceholder\n              }\n              sizes={`(max-width: ${media.mobile}px) 100vw, (max-width: ${media.tablet}px) 800px, 1000px`}\n              alt=\"The aero lesson builder app dragging an audio component into a screen about plant cells.\"\n            />\n          </ProjectSectionContent>\n        </ProjectSection>\n        <ProjectSection>\n          <ProjectTextRow>\n            <ProjectSectionHeading>The problem</ProjectSectionHeading>\n            <ProjectSectionText>\n              In 2017, Smart Sparrow began a project to build an entirely new platform to\n              from the ground up to serve as the most powerful tool for educators to\n              create online learning experiences. The old platform was built in Flash, and\n              there were a number of user experience problems to solve in the process of\n              moving the platform to Javascript. The primary goals for the project were\n              reducing barriers to collaboration, and making the platform both easier for\n              new users, but with plenty of room to scale for advanced users.\n            </ProjectSectionText>\n          </ProjectTextRow>\n        </ProjectSection>\n        <ProjectSection light={isDark}>\n          <ProjectSectionContent>\n            <Image\n              key={themeId}\n              srcSet={`${\n                isDark ? imageSprComponentsDark : imageSprComponentsLight\n              } 800w, ${\n                isDark ? imageSprComponentsDarkLarge : imageSprComponentsLightLarge\n              } 1000w`}\n              placeholder={\n                isDark\n                  ? imageSprComponentsDarkPlaceholder\n                  : imageSprComponentsLightPlaceholder\n              }\n              alt={`A set of ${themeId} themed components for the aero design system`}\n              sizes=\"100vw\"\n            />\n            <ProjectTextRow>\n              <SegmentedControl\n                currentIndex={themes.indexOf(themeId)}\n                onChange={handleThemeChange}\n              >\n                <SegmentedControlOption>Dark theme</SegmentedControlOption>\n                <SegmentedControlOption>Light theme</SegmentedControlOption>\n              </SegmentedControl>\n            </ProjectTextRow>\n            <ProjectTextRow>\n              <ProjectSectionHeading>The aero design system</ProjectSectionHeading>\n              <ProjectSectionText>\n                To streamline the design process across designers and engineers for such a\n                large project, it was important to lay the foundations with a strong,\n                flexible design system that could evolve during the product’s development\n                cycle. This would inform both the aesthetics and user experience across\n                the product itself as well as the website and marketing material.\n              </ProjectSectionText>\n            </ProjectTextRow>\n          </ProjectSectionContent>\n        </ProjectSection>\n        <ProjectSection>\n          <ProjectSectionContent>\n            <Image\n              raised\n              key={themeId}\n              srcSet={`${\n                isDark ? imageSprDesignSystemDark : imageSprDesignSystemLight\n              } 1280w, ${\n                isDark ? imageSprDesignSystemDarkLarge : imageSprDesignSystemLightLarge\n              } 2560w`}\n              placeholder={\n                isDark\n                  ? imageSprDesignSystemDarkPlaceholder\n                  : imageSprDesignSystemLightPlaceholder\n              }\n              alt=\"The homepage of the aero design system docs website linking to principles and components.\"\n              sizes=\"100vw\"\n            />\n            <ProjectTextRow>\n              <ProjectSectionHeading>Design system docs</ProjectSectionHeading>\n              <ProjectSectionText>\n                A design system is useless if no one knows how to use it, so we put\n                together a comprehensive documentation website to cover principles, ux,\n                accessibility, and component guidelines for designers and engineers\n                working with the system.\n              </ProjectSectionText>\n            </ProjectTextRow>\n          </ProjectSectionContent>\n        </ProjectSection>\n        <ThemeProvider themeId=\"dark\">\n          <ProjectSection\n            ref={motionSectionRef}\n            backgroundOverlayOpacity={0.5}\n            backgroundElement={\n              <Image\n                srcSet={`${imageSprBackgroundVolcanism} 1280w, ${imageSprBackgroundVolcanismLarge} 2560w`}\n                placeholder={imageSprBackgroundVolcanismPlaceholder}\n                alt=\"A dramatic ocean scene with lava forming a new land mass.\"\n                sizes=\"100vw\"\n              />\n            }\n          >\n            <ProjectSectionColumns width=\"full\">\n              <ProjectSectionContent width=\"full\">\n                <ProjectTextRow width=\"s\">\n                  <ProjectSectionHeading>Motion design</ProjectSectionHeading>\n                  <ProjectSectionText>\n                    Animation was a core principle in making the authoring experience a\n                    more understandable process. Elements animate in ways that indicate\n                    the cause and effect of each interaction to improve the fluidity of\n                    the overall experience.\n                  </ProjectSectionText>\n                </ProjectTextRow>\n              </ProjectSectionContent>\n              <Image\n                raised\n                srcSet={`${videoSprMotion} 1280w, ${videoSprMotionLarge} 2560w`}\n                className=\"spr__video\"\n                src={videoSprMotionLarge}\n                placeholder={videoSprMotionPlaceholder}\n                alt=\"A learning designer building and deploying an interactive lesson on volcanism using the app.\"\n                sizes={`(max-width: ${media.mobile}px) 100vw, 50vw`}\n              />\n            </ProjectSectionColumns>\n          </ProjectSection>\n        </ThemeProvider>\n        <ProjectSection>\n          <ProjectSectionContent>\n            <ProjectTextRow>\n              <ProjectSectionHeading>Encouraging adaptivity</ProjectSectionHeading>\n              <ProjectSectionText>\n                A major part of solving for collaboration was being able to visualize the\n                learner experience in the editor. This was especially beneficial for\n                subject matter experts and instructors need to review and give feedback on\n                the higher level structure without having to dig through all of the\n                adaptivity scenarios screen by screen.\n              </ProjectSectionText>\n            </ProjectTextRow>\n            <Image\n              raised\n              key={themeId}\n              srcSet={`${\n                isDark ? imageSprStoryboarderDark : imageSprStoryboarderLight\n              } 1280w, ${\n                isDark ? imageSprStoryboarderDarkLarge : imageSprStoryboarderLightLarge\n              } 2560w`}\n              placeholder={\n                isDark\n                  ? imageSprStoryboarderDarkPlaceholder\n                  : imageSprStoryboarderLightPlaceholder\n              }\n              alt=\"A drag and drop storyboard style editor for creating an adaptive lesson.\"\n              sizes={`(max-width: ${media.mobile}px) 100vw, 80vw`}\n            />\n          </ProjectSectionContent>\n        </ProjectSection>\n        <ProjectSection>\n          <ProjectSectionColumns>\n            <ProjectSectionContent>\n              <ProjectTextRow>\n                <ProjectSectionHeading>\n                  An extensible plugin ecosystem usable by everyone\n                </ProjectSectionHeading>\n                <ProjectSectionText>\n                  The most powerful aspect of the platform is the ability to create custom\n                  plugins for any content, whether it be a degree, course, lesson, screen,\n                  or interactive component. Out of the box these can be made configurable\n                  with minimal effort from developers. Learning designers can then edit\n                  everything using a common configuration interface.\n                </ProjectSectionText>\n              </ProjectTextRow>\n            </ProjectSectionContent>\n            <div className=\"spr__sidebar-images\">\n              <Image\n                className=\"spr__sidebar-image\"\n                srcSet={`${isDark ? imageSprSchema2Dark : imageSprSchema2Light} 260w, ${\n                  isDark ? imageSprSchema2DarkLarge : imageSprSchema2LightLarge\n                } 520w`}\n                placeholder={\n                  isDark\n                    ? imageSprSchema2DarkPlaceholder\n                    : imageSprSchema2LightPlaceholder\n                }\n                alt=\"Configuration options for a component.\"\n                sizes={`(max-width: ${media.mobile}px) 50vw, 25vw`}\n              />\n              <Image\n                className=\"spr__sidebar-image\"\n                srcSet={`${isDark ? imageSprSchema1Dark : imageSprSchema1Light} 260w, ${\n                  isDark ? imageSprSchema1DarkLarge : imageSprSchema1LightLarge\n                } 520w`}\n                placeholder={\n                  isDark\n                    ? imageSprSchema1DarkPlaceholder\n                    : imageSprSchema1LightPlaceholder\n                }\n                alt=\"Configuration options for text.\"\n                sizes={`(max-width: ${media.mobile}px) 50vw, 25vw`}\n              />\n            </div>\n          </ProjectSectionColumns>\n        </ProjectSection>\n        <ThemeProvider themeId=\"dark\">\n          <Earth\n            className=\"spr__earth\"\n            hideMeshes={useMemo(\n              () => ['Atmosphere', 'EarthPartial', 'Chunk', 'EarthFull'],\n              []\n            )}\n            position={useMemo(() => [0, 0, 0], [])}\n            ref={earthSectionRef}\n            labels={useMemo(\n              () => [\n                {\n                  position: [0.54, 0.19, 0.18],\n                  text: 'Pacific ring of fire',\n                  hidden: true,\n                },\n                {\n                  position: [0.47, -0.38, 0.04],\n                  text: 'Ruapehu',\n                  hidden: true,\n                },\n                {\n                  position: [0.22, 0.44, -0.35],\n                  text: 'St. Helens',\n                  hidden: true,\n                },\n                {\n                  position: [0.16, -0.06, 0.58],\n                  text: 'Krakatoa',\n                  hidden: true,\n                },\n                {\n                  position: [0.11, 0.2, -0.56],\n                  text: 'Parícutin',\n                  hidden: true,\n                },\n                {\n                  position: [0.52, 0.2, -0.23],\n                  text: 'Kīlauea',\n                  hidden: true,\n                },\n                {\n                  position: [-0.24, 0.75, 0.24],\n                  text: 'Mantle',\n                  delay: 800,\n                  hidden: true,\n                },\n                {\n                  position: [-0.24, 0.55, 0.24],\n                  text: 'Outer core',\n                  delay: 800,\n                  hidden: true,\n                },\n                {\n                  position: [-0.24, 0.35, 0.24],\n                  text: 'Inner core',\n                  delay: 800,\n                  hidden: true,\n                },\n              ],\n              []\n            )}\n            scale={0.6}\n          >\n            <EarthSection\n              scrim\n              animations={['0:loop']}\n              camera={[0, 0, 1.5]}\n              meshes={['Atmosphere', 'EarthFull']}\n            >\n              <ProjectSection>\n                <ProjectSectionContent>\n                  <ProjectTextRow center>\n                    <ProjectSectionHeading>\n                      Next-generation learning experiences\n                    </ProjectSectionHeading>\n                    <ProjectSectionText>\n                      The flexibility of the product allowed for developers to create\n                      engaging interactive experiences as highly configurable plugins that\n                      could then be used and manipulated by learning designers.\n                    </ProjectSectionText>\n                  </ProjectTextRow>\n                </ProjectSectionContent>\n              </ProjectSection>\n            </EarthSection>\n            <EarthSection\n              animations={['0:loop']}\n              camera={[0, 0, 2.4]}\n              meshes={['Atmosphere', 'EarthFull']}\n            />\n            <EarthSection\n              animations={['0:loop']}\n              camera={[1.14, -1.39, 0.94]}\n              meshes={['Atmosphere', 'EarthFull']}\n            >\n              <ProjectSection>\n                <ProjectSectionContent width=\"xl\">\n                  <ProjectTextRow justify=\"end\" width=\"s\">\n                    <ProjectSectionHeading level={4} as=\"h3\">\n                      Bringing 3D into learning\n                    </ProjectSectionHeading>\n                    <ProjectSectionText>\n                      One really cool example is the 3D screen plugin. Learning designers\n                      can load any model into it and then configure camera positions to\n                      animate to for each section.\n                    </ProjectSectionText>\n                  </ProjectTextRow>\n                </ProjectSectionContent>\n              </ProjectSection>\n            </EarthSection>\n            <EarthSection\n              animations={['0:loop']}\n              camera={[1.17, 0.69, -1.47]}\n              meshes={['Atmosphere', 'EarthFull']}\n              labels={[\n                'Pacific ring of fire',\n                'Ruapehu',\n                'St. Helens',\n                'Krakatoa',\n                'Parícutin',\n                'Kīlauea',\n              ]}\n            >\n              <ProjectSection>\n                <ProjectSectionContent width=\"xl\">\n                  <ProjectTextRow justify=\"start\" width=\"s\">\n                    <ProjectSectionHeading level={4} as=\"h3\">\n                      Interactivity\n                    </ProjectSectionHeading>\n                    <ProjectSectionText>\n                      Learners can then be directed to specific parts of the model and\n                      shown labels. They're also able to click and drag to orbit around\n                      and freely explore at any time.\n                    </ProjectSectionText>\n                  </ProjectTextRow>\n                </ProjectSectionContent>\n              </ProjectSection>\n            </EarthSection>\n            <EarthSection\n              animations={['0:loop']}\n              camera={[1.81, 0.51, 0.43]}\n              meshes={['Atmosphere', 'EarthFull']}\n              labels={[\n                'Pacific ring of fire',\n                'Ruapehu',\n                'St. Helens',\n                'Krakatoa',\n                'Parícutin',\n                'Kīlauea',\n              ]}\n            />\n            <EarthSection\n              animations={['0:loop']}\n              camera={[0.37, 1.02, 1.84]}\n              meshes={['EarthPartial', 'Chunk']}\n              labels={['Mantle', 'Outer core', 'Inner core']}\n            >\n              <ProjectSection>\n                <ProjectSectionContent width=\"xl\">\n                  <ProjectTextRow justify=\"end\" width=\"s\">\n                    <ProjectSectionHeading level={4} as=\"h3\">\n                      Animation\n                    </ProjectSectionHeading>\n                    <ProjectSectionText>\n                      Learning designers can pick an animation included in the model to\n                      play or loop for any section without having to use any complex\n                      animation tools.\n                    </ProjectSectionText>\n                  </ProjectTextRow>\n                </ProjectSectionContent>\n              </ProjectSection>\n            </EarthSection>\n            <EarthSection\n              scrimReverse\n              animations={['0:loop']}\n              camera={[0.37, 1.02, 1.84]}\n              meshes={['Atmosphere', 'EarthFull']}\n            />\n          </Earth>\n        </ThemeProvider>\n      </ProjectContainer>\n      <Footer />\n    </Fragment>\n  );\n};\n\nexport default ProjectSPR;\n","/**\n * Uses the browser's image loading to get the correct image src from a srcSet\n */\nexport async function getImageFromSrcSet({ src, srcSet, sizes }) {\n  return new Promise((resolve, reject) => {\n    try {\n      if (!src && !srcSet) {\n        throw new Error('No image src or srcSet provided');\n      }\n\n      const tempImage = new Image();\n\n      if (src) {\n        tempImage.src = src;\n      }\n\n      if (srcSet) {\n        tempImage.srcset = srcSet;\n      }\n\n      if (sizes) {\n        tempImage.sizes = sizes;\n      }\n\n      const onLoad = () => {\n        tempImage.removeEventListener('load', onLoad);\n        const source = tempImage.currentSrc;\n        resolve(source);\n      };\n\n      tempImage.addEventListener('load', onLoad);\n    } catch (error) {\n      reject(`Error loading ${srcSet}: ${error}`);\n    }\n  });\n}\n\n/**\n * Generates a transparent png of a given width and height\n */\nexport function generateImage(width = 1, height = 1) {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n\n  canvas.width = width;\n  canvas.height = height;\n\n  ctx.fillStyle = 'rgba(0, 0, 0, 0)';\n  ctx.fillRect(0, 0, width, height);\n  const image = canvas.toDataURL('image/png', '');\n  canvas.remove();\n  return image;\n}\n\n/**\n * Use native image srcSet resolution for video sources\n */\nexport async function resolveVideoSrcFromSrcSet(srcSet) {\n  const sources = srcSet.split(', ').map(srcString => {\n    const [src, width] = srcString.split(' ');\n    const image = generateImage(Number(width.replace('w', '')));\n    return { src, image, width };\n  });\n\n  const fakeSrcSet = sources.map(({ image, width }) => `${image} ${width}`).join(', ');\n  const fakeSrc = await getImageFromSrcSet({ srcSet: fakeSrcSet });\n\n  const videoSrc = sources.find(src => src.image === fakeSrc);\n  return videoSrc.src;\n}\n","/**\n * Clean up a scene's materials and geometry\n */\nexport const cleanScene = scene => {\n  scene.traverse(object => {\n    if (!object.isMesh) return;\n\n    object.geometry.dispose();\n\n    if (object.material.isMaterial) {\n      cleanMaterial(object.material);\n    } else {\n      for (const material of object.material) {\n        cleanMaterial(material);\n      }\n    }\n  });\n};\n\n/**\n * Clean up and dispose of a material\n */\nexport const cleanMaterial = material => {\n  material.dispose();\n\n  for (const key of Object.keys(material)) {\n    const value = material[key];\n    if (value && typeof value === 'object' && 'minFilter' in value) {\n      value.dispose();\n    }\n  }\n};\n\n/**\n * Clean up and dispose of a renderer\n */\nexport const cleanRenderer = renderer => {\n  renderer.dispose();\n  renderer.forceContextLoss();\n  renderer = null;\n};\n\n/**\n * Clean up lights by removing them from their parent\n */\nexport const removeLights = lights => {\n  for (const light of lights) {\n    light.parent.remove(light);\n  }\n};\n"],"names":["className","Date","getFullYear","Link","secondary","href","target","children","level","as","align","weight","rest","clampedLevel","Math","min","max","Component","Fragment","Helmet","rel","GothamBold","crossorigin","classNames","ImageElements","onLoad","loaded","inViewport","srcSet","placeholder","delay","src","alt","play","reveal","prefersReducedMotion","usePrefersReducedMotion","showPlaceholder","setShowPlaceholder","useState","playing","setPlaying","showPlayButton","setShowPlayButton","isHovered","setIsHovered","isFocused","setIsFocused","placeholderSize","setPlaceholderSize","videoSrc","setVideoSrc","placeholderRef","useRef","videoRef","isVideo","endsWith","imgSrc","split","showFullRes","prerender","useEffect","purgePlaceholder","placeholderElement","current","addEventListener","removeEventListener","async","resolvedVideoSrc","resolveVideoSrcFromSrcSet","resolveVideoSrc","width","height","pause","togglePlaying","event","preventDefault","paused","handleFocusPlayButton","onMouseOver","undefined","onMouseOut","style","numToMs","muted","loop","playsInline","autoPlay","role","onLoadStart","ref","Transition","in","onExit","reflow","onExited","timeout","enter","exit","msToNum","tokens","status","VisuallyHidden","visible","Button","onFocus","onBlur","onClick","Icon","icon","decoding","raised","setLoaded","themeId","useTheme","containerRef","useInViewport","useCallback","VALID_EXT","isValidExtension","includes","pop","isAnchor","relValue","targetValue","RouterLink","to","onMouseUp","blurOnMouseUp","ProjectHeader","title","description","linkLabel","url","roles","Section","Heading","Text","size","iconHoverShift","length","map","index","initDelay","ProjectContainer","ProjectSection","forwardRef","light","first","fullHeight","backgroundOverlayOpacity","backgroundElement","ProjectBackground","opacity","entered","offset","useParallax","numToPx","Image","ProjectImage","ProjectSectionContent","ProjectSectionHeading","ProjectSectionText","ProjectTextRow","center","stretch","justify","noMargin","centerMobile","ProjectSectionColumns","centered","SegmentedControlContext","createContext","SegmentedControlOption","props","optionRefs","currentIndex","onChange","registerOption","useContext","optionRef","indexOf","isSelected","useLayoutEffect","tabIndex","label","labelId","useId","indicator","setIndicator","currentOption","resizeObserver","ResizeObserver","rect","getBoundingClientRect","left","offsetLeft","observe","disconnect","Provider","value","onKeyDown","prevIndex","nextIndex","key","focus","id","OrbitControls","object","domElement","console","warn","document","error","this","enabled","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","MIDDLE","touches","ONE","TOUCH","TWO","target0","clone","position0","position","zoom0","zoom","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","listenToKeyEvents","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","quat","Quaternion","setFromUnitVectors","up","quatInverse","invert","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","isFinite","makeSafe","radius","scale","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","type","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","right","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","x","y","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","subVectors","handleTouchMovePan","handleTouchMoveDolly","pointerType","mouseAction","window","button","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","stopPropagation","handleMouseWheel","needsUpdate","keyCode","handleKeyDown","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","prototype","Object","create","EventDispatcher","constructor","MapControls","call","RGBELoader","manager","DataTextureLoader","UnsignedByteType","assign","parse","buffer","rgbe_error","rgbe_error_code","msg","fgets","lineLimit","consume","p","pos","i","len","s","chunk","String","fromCharCode","apply","Uint16Array","subarray","byteLength","slice","RGBEByteToRGBFloat","sourceArray","sourceOffset","destArray","destOffset","e","RGBEByteToRGBHalf","DataUtils","byteArray","Uint8Array","rgbe_header_info","line","match","gamma_re","exposure_re","format_re","dimensions_re","header","valid","string","comments","programtype","format","gamma","exposure","charAt","parseFloat","parseInt","RGBE_ReadHeader","w","h","image_rgba_data","data_rgba","count","byteValue","scanline_buffer","ptr","ptr_end","l","off","isEncodedRun","rgbeStart","scanline_width","num_scanlines","RGBE_ReadPixels_RLE","data","RGBEFormat","FloatType","numElements","floatArray","Float32Array","j","RGBFormat","HalfFloatType","halfArray","setDataType","load","onProgress","onError","texture","texData","encoding","RGBEEncoding","minFilter","NearestFilter","magFilter","generateMipmaps","flipY","LinearEncoding","LinearFilter","nullTarget","z","interpolatePosition","nextValue","percent","positionToString","round","toFixed","join","getPositionValues","section","camera","EarthContext","Earth","hideMeshes","labels","grabbing","setGrabbing","sectionRefs","defaultContainer","container","labelContainer","canvas","scene","renderer","clock","mouse","raycaster","sceneModel","animations","mixer","fetching","animationFrame","initCameraPosition","labelElements","cameraValue","controls","envMap","skyBox","contentAdded","cameraSpring","mounted","windowWidth","windowHeight","useWindowSize","reduceMotion","animate","cancelAnimationFrame","requestAnimationFrame","delta","getDelta","render","forEach","sprite","vector","meshDistance","distanceTo","spriteBehindObject","project","innerWidth","innerHeight","transform","classList","remove","WebGLRenderer","antialias","powerPreference","setPixelRatio","outputEncoding","sRGBEncoding","physicallyCorrectLights","toneMapping","ACESFilmicToneMapping","PerspectiveCamera","handleControlStart","stop","handleControlEnd","Scene","Clock","Raycaster","ambientLight","AmbientLight","dirLight","DirectionalLight","lights","removeLights","cleanScene","cleanRenderer","media","gltfLoader","GLTFLoader","rgbeLoader","textureLoader","TextureLoader","pmremGenerator","PMREMGenerator","compileEquirectangularShader","loadModel","gltf","loadAsync","earthModel","AnimationMixer","timeScale","traverse","child","material","name","alphaMap","loadEnv","hdrTexture","milkywayHdr","fromEquirectangular","loadBackground","backgroundTexture","milkywayBg","cubeTarget","WebGLCubeRenderTarget","fromEquirectangularTexture","Promise","all","handleLoad","environment","background","innerHTML","createElement","setProperty","textContent","text","appendChild","Sprite","setSize","aspect","currentCanvas","handleMouseUp","cameraPosition","log","setFromCamera","intersects","intersectObjects","clickPosition","point","chunkSpring","chunkValue","chunkValueSubscription","opacitySpring","opacityValue","offsetTop","handleScroll","currentScrollY","scrollY","prevTarget","unsubscribe","getChild","node","currentSectionIndex","indexRange","floor","currentTarget","nextTarget","sectionScrolled","scrollPercent","scrollPercentRange","currentX","currentY","currentZ","visibleMeshes","meshes","isVisible","isHidden","earthFull","earthPartial","atmosphere","setChunkValue","opacitySpringConfig","from","get","velocity","getVelocity","stiffness","damping","chunkSpringConfig","mass","restSpeed","spring","start","chunkPosition","subscribe","complete","toArray","updateMeshes","sectionAnimations","clip","find","toString","clipAction","animItem","values","Number","animation","clampWhenFinished","LoopOnce","updateAnimation","hidden","setAttribute","filter","item","position1","position2","num","EPSILON","isEqualCameraPosition","registerSection","unregisterSection","EarthSection","memo","scrim","scrimReverse","sectionRef","stringifiedDeps","JSON","stringify","dispatch","useAppContext","motionSectionRef","earthSectionRef","useScrollRestore","isDark","themes","content","backgroundSpr","backgroundSprLarge","backgroundSprPlaceholder","imageSprLessonBuilderDark","imageSprLessonBuilderLight","imageSprLessonBuilderDarkLarge","imageSprLessonBuilderLightLarge","imageSprLessonBuilderDarkPlaceholder","imageSprLessonBuilderLightPlaceholder","sizes","imageSprComponentsDark","imageSprComponentsLight","imageSprComponentsDarkLarge","imageSprComponentsLightLarge","imageSprComponentsDarkPlaceholder","imageSprComponentsLightPlaceholder","imageSprDesignSystemDark","imageSprDesignSystemLight","imageSprDesignSystemDarkLarge","imageSprDesignSystemLightLarge","imageSprDesignSystemDarkPlaceholder","imageSprDesignSystemLightPlaceholder","ThemeProvider","imageSprBackgroundVolcanism","imageSprBackgroundVolcanismLarge","imageSprBackgroundVolcanismPlaceholder","videoSprMotion","videoSprMotionLarge","videoSprMotionPlaceholder","imageSprStoryboarderDark","imageSprStoryboarderLight","imageSprStoryboarderDarkLarge","imageSprStoryboarderLightLarge","imageSprStoryboarderDarkPlaceholder","imageSprStoryboarderLightPlaceholder","imageSprSchema2Dark","imageSprSchema2Light","imageSprSchema2DarkLarge","imageSprSchema2LightLarge","imageSprSchema2DarkPlaceholder","imageSprSchema2LightPlaceholder","imageSprSchema1Dark","imageSprSchema1Light","imageSprSchema1DarkLarge","imageSprSchema1LightLarge","imageSprSchema1DarkPlaceholder","imageSprSchema1LightPlaceholder","useMemo","Footer","getImageFromSrcSet","resolve","reject","Error","tempImage","srcset","source","currentSrc","sources","srcString","image","ctx","getContext","fillStyle","fillRect","toDataURL","generateImage","replace","fakeSrcSet","fakeSrc","isMesh","geometry","isMaterial","cleanMaterial","forceContextLoss","parent"],"sourceRoot":""}